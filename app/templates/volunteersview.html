<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{{ url_for('static', filename='src/styles/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='src/styles/ADM.css') }}">
    <title>Costura Solidária - Voluntários</title>
</head>
<body>
    <main id="content">
        <section id="volunteers">
            <div class="container-title">
                <h3 class="section-subtitle">Voluntários</h3>
            </div>
            <div id="volunteers-content">
                <!-- Exemplo de voluntário -->
                <div class="volunteer-card">
                    <div class="volunteer-info">
                        <h4>Maria Silva</h4>
                        <p>47-999999998</p>
                        <p>teste@gmail.com</p>
                        <br>
                        <button class="btn-edit" onclick="editVolunteer(this)">Editar</button>
                        <button class="btn-delete" onclick="deleteVolunteer(this)">Excluir</button>
                    </div>
                </div>
                <div class="volunteer-card">
                    <div class="volunteer-info">
                        <h4>João Souza</h4>
                        <p>47-999999999</p>
                        <p>teste2@gmail.com</p>
                        <br>
                        <button class="btn-edit" onclick="editVolunteer(this)">Editar</button>
                        <button class="btn-delete" onclick="deleteVolunteer(this)">Excluir</button>
                    </div>
                </div>
                <button class="btn-add" onclick="addVolunteer()">Adicionar</button>
                <button class="btn-refresh" onclick="refreshPage()">Atualizar</button>
            </div>
        </section>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="{{ url_for('static', filename='src/javascript/script.js') }}"></script>
    <script>
        function editVolunteer(button) {
            // Alterna o modo de edição
            const volunteerCard = button.parentElement;
            const isEditing = volunteerCard.getAttribute("data-editing") === "true";

            if (isEditing) {
                // Salva as alterações
                volunteerCard.querySelectorAll('[contenteditable]').forEach(el => el.setAttribute('contenteditable', 'false'));
                button.innerText = "Editar";
                volunteerCard.setAttribute("data-editing", "false");
            } else {
                // Habilita a edição
                volunteerCard.querySelectorAll('[contenteditable]').forEach(el => el.setAttribute('contenteditable', 'true'));
                button.innerText = "Salvar";
                volunteerCard.setAttribute("data-editing", "true");
            }
        }

        function deleteVolunteer(button) {
            // Lógica para excluir voluntário
            if (confirm("Tem certeza que deseja excluir este voluntário?")) {
                const volunteerCard = button.parentElement.parentElement;
                volunteerCard.remove();
            }
        }

        function addVolunteer() {
            // Lógica para adicionar voluntário
            const name = prompt("Nome do Voluntário:");
            const phone = prompt("Telefone do Voluntário:");
            const email = prompt("Email do Voluntário:");

            if (name && phone && email) {
                const volunteersContent = document.getElementById('volunteers-content');
                const newVolunteerCard = document.createElement('div');
                newVolunteerCard.classList.add('volunteer-card');
                newVolunteerCard.innerHTML = `
                    <div class="volunteer-info" data-editing="false">
                        <h4 contenteditable="false">${name}</h4>
                        <p contenteditable="false">${phone}</p>
                        <p contenteditable="false">${email}</p>
                        <br>
                        <button class="btn-edit" onclick="editVolunteer(this)">Editar</button>
                        <button class="btn-delete" onclick="deleteVolunteer(this)">Excluir</button>
                    </div>
                `;
                volunteersContent.insertBefore(newVolunteerCard, volunteersContent.querySelector('.btn-add'));
            } else {
                alert("Todos os campos são obrigatórios para adicionar um voluntário.");
            }
        }

        function refreshPage() {
            location.reload();
        }
    </script>
</body>
</html>
